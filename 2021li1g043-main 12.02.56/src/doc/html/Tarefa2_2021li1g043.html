<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa2_2021li1g043</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Jo&#227;o Magalh&#227;es &lt;a100740@alunos.uminho.pt&gt;;<br />: Gon&#231;alo Loureiro &lt;a100535@alunos.uminho.pt&gt;;</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Tarefa2_2021li1g043</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 2 do projeto de LI1 em 2021/22.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:constroiMapa">constroiMapa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></li><li class="src short"><a href="#v:separaCoors">separaCoors</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]</li><li class="src short"><a href="#v:separaPorLinhas">separaPorLinhas</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]]</li><li class="src short"><a href="#v:desconstroiMapa">desconstroiMapa</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:colocaCoors">colocaCoors</a> :: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] -&gt; Int -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:colocaCoorLinha">colocaCoorLinha</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:constroiMapa" class="def">constroiMapa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> <a href="#v:constroiMapa" class="selflink">#</a></p><div class="doc"><h2>Defini&#231;&#227;o geral</h2><p>Constroi o Mapa.</p><h2>Defini&#231;&#227;o mais espec&#237;fica</h2><p>Recebe uma lista organizada, devido &#224; fun&#231;&#227;o <code><a href="Tarefa1_2021li1g043.html#v:constroiMapaPVO" title="Tarefa1_2021li1g043">constroiMapaPVO</a></code>, e separa a mesma em linhas, ou seja, por listas, baseando-se apenas no <code>y</code> das coordenadas uma vez que esta ja se encontra organizada.</p><h2>Caso de paragem</h2><p>A fun&#231;&#227;o tem como caso de paragem a lista vazia, [].</p><pre>constroiMapa :: [(Peca, Coordenadas)] -&gt; Mapa
constroiMapa [] = []
constroiMapa l = separaPorLinhas (constroiMapaPVO l) yy
                   where yy = yMax (map snd l) 
</pre><h2>Exemplo de utiliza&#231;&#227;o da fun&#231;&#227;o <code><a href="Tarefa2_2021li1g043.html#v:constroiMapa" title="Tarefa2_2021li1g043">constroiMapa</a></code>:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>constroiMapa constroiMapa [(Bloco,(0,2)),(Caixa,(0,1)),(Bloco,(2,2)),(Porta,(2,1)),(Bloco,(1,2))]
</code></strong>[[Vazio,Vazio,Vazio],[Caixa,Vazio,Porta],[Bloco,Bloco,Bloco]]
</pre><ol><li>Seleciona as Pecas de numa lista tendo em conta o seu <code>y</code></li></ol><h2>Caso de paragem</h2><p>A fun&#231;&#227;o devolver&#225; uma lista vazia, [], quando a lista dada for vazia, [].</p><pre>separaCoors :: [(Peca,Coordenadas)] -&gt; Int -&gt; [Peca]
separaCoors [] yy = []
separaCoors ((c,(x,y)):t) yy 
                        | y == yy = c : separaCoors t yy
                        | otherwise = separaCoors t yy
</pre><h2>Exemplo de utiliza&#231;&#227;o da fun&#231;&#227;o <code><a href="Tarefa2_2021li1g043.html#v:separaCoors" title="Tarefa2_2021li1g043">separaCoors</a></code>:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>separaCoors [(Bloco,(2,2)), (Caixa,(1,2)), (Bloco,(1,0))] 2
</code></strong>[Bloco,Caixa]
</pre><ol><li>Separar as Pecas em listas at&#233; ao valor de <code>y</code> dado</li></ol><h2>Caso de paragem</h2><p>Esta fun&#231;&#227;o, devido ao facto de ser muito similar &#224; de cima, apresenta o mesmo caso de paragem.</p><pre>separaPorLinhas :: [(Peca,Coordenadas)] -&gt; Int -&gt; [[Peca]]
separaPorLinhas [] yy = []
separaPorLinhas ((c,(x,y)):t) yy
                        | yy &gt;= 0 = separaPorLinhas ((c,(x,y)):t) (yy-1) ++ [separaCoors ((c,(x,y)):t) yy]
                        | otherwise = []
</pre><h2>Exemplo de utiliza&#231;&#227;o da fun&#231;&#227;o <code><a href="Tarefa2_2021li1g043.html#v:separaPorLinhas" title="Tarefa2_2021li1g043">separaPorLinhas</a></code>:</h2><pre>&gt; separaPorLinhas [(Bloco,(2,2)), (Caixa,(1,2)), (Bloco,(1,0))] 2</pre><dl><dt>[Bloco</dt><dd>,[],[Bloco,Caixa]]</dd></dl></div></div><div class="top"><p class="src"><a id="v:separaCoors" class="def">separaCoors</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] <a href="#v:separaCoors" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:separaPorLinhas" class="def">separaPorLinhas</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; [[<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]] <a href="#v:separaPorLinhas" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:desconstroiMapa" class="def">desconstroiMapa</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:desconstroiMapa" class="selflink">#</a></p><div class="doc"><h2>Defini&#231;&#227;o geral</h2><p>Desconstroi o Mapa. </p><h2>Defini&#231;&#227;o mais espec&#237;fica</h2><p>Utilizando um m&#233;todo id&#234;ntico &#224; <code><a href="Tarefa2_2021li1g043.html#v:constroiMapa" title="Tarefa2_2021li1g043">constroiMapa</a></code>, esta fun&#231;&#227;o recebe um Mapa e devolve este na forma de (Peca,Coordenadas) em uma s&#243; lista organizada.</p><h2>Caso de paragem</h2><p>A fun&#231;&#227;o tem como caso de paragem a lista vazia, [].</p><pre>desconstroiMapa :: Mapa -&gt; [(Peca, Coordenadas)] 
desconstroiMapa [] = []
desconstroiMapa l = colocaCoorLinha l tamanho 
               where tamanho = length l 
</pre><h2>Exemplo de utiliza&#231;&#227;o da fun&#231;&#227;o <code><a href="Tarefa2_2021li1g043.html#v:desconstroiMapa" title="Tarefa2_2021li1g043">desconstroiMapa</a></code>:</h2><pre>&gt; desconstroiMapa [[Vazio,Vazio,Vazio],[Caixa,Vazio,Porta],[Bloco,Bloco,Bloco]]</pre><dl><dt>(Caixa,(0,1)), (Porta,(2,1)), (Bloco,(0,2)), (Bloco,(1,2)), (Bloco,(2,2))</dt><dd></dd></dl><ol><li>Recursivamente aplica a fun&#231;&#227;o colocaCoors</li></ol><h2>Caso de paragem</h2><p>Esta fun&#231;&#227;o tem como caso de paragem a lista vazia, [].</p><pre>colocaCoorLinha :: Mapa -&gt; Int -&gt; [(Peca,Coordenadas)]
colocaCoorLinha [] y = []
colocaCoorLinha l y = colocaCoorLinha (init l) (y-1) ++ colocaCoors (last l) (x-1) y -- ^ Da mesma forma que acontece na fun&#231;&#227;o de cima nesta, utiliza-se o (y-1) uma vez que, por exemplo, uma lista composta por 3 colunas ([[1,2],[2,3],[2,0]]) a ordenada m&#225;xima &#233; 2
                    where x = length (last l) 
</pre><h2>Exemplo de utiliza&#231;&#227;o da fun&#231;&#227;o <code><a href="Tarefa2_2021li1g043.html#v:colocaCoorLinha" title="Tarefa2_2021li1g043">colocaCoorLinha</a></code>:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>colocaCoorLinha [[Bloco,Porta,Vazio],[Bloco,Bloco,Bloco]] 2
</code></strong>[(Bloco,(0,0)),(Porta,(1,0)),(Bloco,(0,1)),(Bloco,(1,1)),(Bloco,(2,1))]
</pre><ol><li>Dada uma lista de Pecas devolve as coordenadas dependendo da coluna (valor de <code>x</code>) e do comprimento da lista onde est&#225; inserido.</li></ol><h2>Caso de paragem</h2><p>Esta fun&#231;&#227;o tem como caso de paragem a lista vazia, [].</p><pre>colocaCoors :: [Peca] -&gt; Int -&gt; Int -&gt; [(Peca,Coordenadas)]
colocaCoors [] x y = []
colocaCoors l x y 
                 | c /= Vazio = colocaCoors (init l) (x-1) y ++ [(c,(x,(y-1)))] -- ^ Utiliza-se o (x-1) porque uma linha comeca com as coordenadas (0,0), ou seja, uma lista que tenha 4 elementos o &#250;ltimo elemento ter&#225; apenas abcissa 3.
                 | otherwise = colocaCoors (init l) (x-1) y -- ^ Omite as Pecas que s&#227;o vazias.
             where c = last l
</pre><h2>Exemplo de utiliza&#231;&#227;o da fun&#231;&#227;o <code><a href="Tarefa2_2021li1g043.html#v:colocaCoors" title="Tarefa2_2021li1g043">colocaCoors</a></code>:</h2><p>Esta fun&#231;&#227;o, neste caso, sozinha n&#227;o tem muita utilidade por isso, verifiquemos a sua utiliza&#231;&#227;o no exemplo da fun&#231;&#227;o em cima referida.</p></div></div><div class="top"><p class="src"><a id="v:colocaCoors" class="def">colocaCoors</a> :: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] -&gt; Int -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:colocaCoors" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:colocaCoorLinha" class="def">colocaCoorLinha</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:colocaCoorLinha" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>